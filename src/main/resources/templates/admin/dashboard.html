<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/base}">

<head>
    <title>Admin Dashboard</title>
</head>

<body>
    <main layout:fragment="content">

        <div class="container-custom py-8" x-data="adminDashboard()">

            <!-- Header -->
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900">üëë Admin Panel</h1>
                    <p class="text-gray-600 mt-1">Platform y√∂netimi ve moderasyon</p>
                </div>
                <div class="flex gap-3">
                    <a href="/admin/pending-creators" class="btn btn-warning btn-sm gap-2">
                        <span class="bg-white/20 px-2 py-0.5 rounded text-xs" x-text="stats.pendingCreators">0</span>
                        Onay Bekleyenler
                    </a>
                    <a href="/admin/disputes" class="btn btn-error btn-sm gap-2">
                        <span class="bg-white/20 px-2 py-0.5 rounded text-xs" x-text="stats.activeDisputes">0</span>
                        ƒ∞tirazlar
                    </a>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white border border-gray-200 rounded-xl p-5">
                    <div class="text-2xl mb-2">üë•</div>
                    <p class="text-sm text-gray-500">Toplam Kullanƒ±cƒ±</p>
                    <p class="text-2xl font-bold text-gray-900" x-text="stats.totalUsers">0</p>
                </div>
                <div class="bg-white border border-gray-200 rounded-xl p-5">
                    <div class="text-2xl mb-2">üé®</div>
                    <p class="text-sm text-gray-500">Aktif Creator</p>
                    <p class="text-2xl font-bold text-gray-900" x-text="stats.activeCreators">0</p>
                </div>
                <div class="bg-white border border-gray-200 rounded-xl p-5">
                    <div class="text-2xl mb-2">üè¢</div>
                    <p class="text-sm text-gray-500">Kayƒ±tlƒ± Marka</p>
                    <p class="text-2xl font-bold text-gray-900" x-text="stats.activeBrands">0</p>
                </div>
                <div class="bg-white border border-gray-200 rounded-xl p-5">
                    <div class="text-2xl mb-2">üí∞</div>
                    <p class="text-sm text-gray-500">Bu Ay Ciro</p>
                    <p class="text-2xl font-bold text-green-600" x-text="Utils.formatPrice(stats.monthlyRevenue)">‚Ç∫0</p>
                </div>
            </div>

            <!-- Alerts Section -->
            <div class="space-y-4 mb-8">
                <div x-show="stats.pendingCreators > 0"
                    class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center gap-4">
                    <span class="text-2xl">‚ö†Ô∏è</span>
                    <div class="flex-1">
                        <h3 class="font-semibold text-gray-900">Onay Bekleyen Creator</h3>
                        <p class="text-sm text-gray-600"
                            x-text="stats.pendingCreators + ' creator profil onayƒ± bekliyor'"></p>
                    </div>
                    <a href="/admin/pending-creators" class="btn btn-sm btn-outline">ƒ∞ncele</a>
                </div>

                <div x-show="stats.activeDisputes > 0"
                    class="bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-4">
                    <span class="text-2xl">üö®</span>
                    <div class="flex-1">
                        <h3 class="font-semibold text-gray-900">A√ßƒ±k ƒ∞tirazlar</h3>
                        <p class="text-sm text-gray-600" x-text="stats.activeDisputes + ' sipari≈ü itiraz a≈üamasƒ±nda'">
                        </p>
                    </div>
                    <a href="/admin/disputes" class="btn btn-sm btn-outline">ƒ∞ncele</a>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

                <!-- Recent Activity -->
                <div class="bg-white border border-gray-200 rounded-xl">
                    <div class="p-5 border-b border-gray-200">
                        <h2 class="font-semibold text-gray-900">üìä Son Aktiviteler</h2>
                    </div>
                    <div class="divide-y divide-gray-100">
                        <div class="flex items-center gap-3 p-4">
                            <span
                                class="w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm">‚úì</span>
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">Yeni sipari≈ü tamamlandƒ±</p>
                                <p class="text-xs text-gray-500">2 dakika √∂nce</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3 p-4">
                            <span
                                class="w-8 h-8 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center text-sm">‚è≥</span>
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">Yeni creator ba≈üvurusu</p>
                                <p class="text-xs text-gray-500">15 dakika √∂nce</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3 p-4">
                            <span
                                class="w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm">üì¶</span>
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">Sipari≈ü teslim edildi</p>
                                <p class="text-xs text-gray-500">1 saat √∂nce</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3 p-4">
                            <span
                                class="w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm">üë§</span>
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">Yeni marka kaydƒ±</p>
                                <p class="text-xs text-gray-500">2 saat √∂nce</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weekly Orders Chart -->
                <div class="bg-white border border-gray-200 rounded-xl">
                    <div class="p-5 border-b border-gray-200">
                        <h2 class="font-semibold text-gray-900">üìà Haftalƒ±k Sipari≈üler</h2>
                    </div>
                    <div class="p-5">
                        <div class="flex items-end gap-2 h-40">
                            <template x-for="(value, index) in weeklyOrders" :key="index">
                                <div class="flex-1 flex flex-col items-center">
                                    <div class="w-full bg-primary rounded-t" :style="'height: ' + (value * 4) + 'px'">
                                    </div>
                                    <span class="text-xs text-gray-500 mt-2"
                                        x-text="['Pzt', 'Sal', '√áar', 'Per', 'Cum', 'Cmt', 'Paz'][index]"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Top Creators -->
                <div class="bg-white border border-gray-200 rounded-xl">
                    <div class="p-5 border-b border-gray-200">
                        <h2 class="font-semibold text-gray-900">üèÜ En Ba≈üarƒ±lƒ± Creator'lar</h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="text-left text-xs font-medium text-gray-500 uppercase px-5 py-3">Creator
                                    </th>
                                    <th class="text-left text-xs font-medium text-gray-500 uppercase px-5 py-3">Sipari≈ü
                                    </th>
                                    <th class="text-left text-xs font-medium text-gray-500 uppercase px-5 py-3">Ciro
                                    </th>
                                    <th class="text-left text-xs font-medium text-gray-500 uppercase px-5 py-3">Puan
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <template x-for="(creator, index) in topCreators" :key="creator.id">
                                    <tr>
                                        <td class="px-5 py-3">
                                            <div class="flex items-center gap-2">
                                                <span x-text="['ü•á', 'ü•à', 'ü•â'][index]"></span>
                                                <span class="font-medium text-gray-900" x-text="creator.name"></span>
                                            </div>
                                        </td>
                                        <td class="px-5 py-3 text-gray-600" x-text="creator.orders"></td>
                                        <td class="px-5 py-3 text-gray-600" x-text="Utils.formatPrice(creator.revenue)">
                                        </td>
                                        <td class="px-5 py-3">
                                            <span class="text-yellow-500">‚≠ê</span>
                                            <span x-text="creator.rating"></span>
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- System Health -->
                <div class="bg-white border border-gray-200 rounded-xl">
                    <div class="p-5 border-b border-gray-200">
                        <h2 class="font-semibold text-gray-900">üñ•Ô∏è Sistem Durumu</h2>
                    </div>
                    <div class="p-5 space-y-4">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">API Yanƒ±t S√ºresi</span>
                                <span class="text-green-600 font-medium">45ms</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 95%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">Veritabanƒ±</span>
                                <span class="text-green-600 font-medium">Aktif</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 100%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">√ñnbellek</span>
                                <span class="text-yellow-600 font-medium">78%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-yellow-500 h-2 rounded-full" style="width: 78%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">Depolama</span>
                                <span class="text-blue-600 font-medium">52%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 52%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            function adminDashboard() {
                return {
                    stats: {
                        totalUsers: 1250,
                        activeCreators: 152,
                        activeBrands: 487,
                        monthlyRevenue: 125000,
                        pendingCreators: 3,
                        activeDisputes: 1
                    },
                    weeklyOrders: [12, 19, 15, 22, 30, 18, 25],
                    topCreators: [
                        { id: 1, name: 'Aylin', orders: 89, revenue: 42500, rating: 4.9 },
                        { id: 2, name: 'Elif', orders: 67, revenue: 38200, rating: 4.8 },
                        { id: 3, name: 'Nova', orders: 45, revenue: 28600, rating: 4.7 }
                    ]
                }
            }
        </script>

    </main>
</body>

</html>