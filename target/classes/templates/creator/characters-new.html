<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/dashboard-layout}">

<head>
    <title>Yeni Karakter Olu≈ütur</title>
</head>

<body>
    <div layout:fragment="content" x-data="newCharacterPage()">

        <div class="container mx-auto px-4 py-8 max-w-3xl">
            <!-- Breadcrumb -->
            <nav
                class="flex items-center text-sm text-gray-500 mb-8 bg-white px-4 py-3 rounded-xl border border-gray-100 shadow-sm">
                <a href="/creator/dashboard" class="hover:text-primary transition-colors flex items-center gap-1">
                    <i class="ph ph-house"></i>
                </a>
                <i class="ph ph-caret-right mx-2 text-xs text-gray-400"></i>
                <a href="/creator/characters" class="hover:text-primary transition-colors">Karakterlerim</a>
                <i class="ph ph-caret-right mx-2 text-xs text-gray-400"></i>
                <span class="text-gray-900 font-medium">Yeni Karakter</span>
            </nav>

            <!-- Page Header -->
            <div class="mb-8 text-center">
                <div
                    class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/5 text-primary mb-4">
                    <i class="ph ph-magic-wand text-3xl"></i>
                </div>
                <h1 class="text-3xl font-bold text-gray-900">Yeni AI Karakter Olu≈ütur</h1>
                <p class="text-gray-500 mt-2 text-lg">Markalar i√ßin benzersiz bir influencer karakteri yaratƒ±n</p>
            </div>

            <!-- Form -->
            <form @submit.prevent="submitForm" class="space-y-6">
                <div class="dash-card p-6 space-y-6">

                    <!-- Avatar Upload -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-3">Karakter G√∂rseli</label>
                        <div class="flex items-start gap-6">
                            <div class="w-32 h-32 bg-gray-100 rounded-2xl flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors overflow-hidden"
                                @click="document.getElementById('avatar-input').click()">
                                <template x-if="!form.avatarPreview">
                                    <div class="text-center">
                                        <span class="text-4xl text-gray-400">üì∑</span>
                                        <p class="text-xs text-gray-400 mt-1">Y√ºkle</p>
                                    </div>
                                </template>
                                <template x-if="form.avatarPreview">
                                    <img :src="form.avatarPreview" class="w-full h-full object-cover" />
                                </template>
                            </div>
                            <input type="file" id="avatar-input" class="hidden" accept="image/*"
                                @change="handleAvatarUpload" />
                            <div class="flex-1">
                                <p class="text-sm text-gray-600 mb-2">AI karakterinin profil g√∂rseli</p>
                                <ul class="text-xs text-gray-400 space-y-1">
                                    <li>‚Ä¢ Y√ºksek kaliteli g√∂rsel √∂nerilir</li>
                                    <li>‚Ä¢ Minimum 400x400 piksel</li>
                                    <li>‚Ä¢ JPG, PNG formatlarƒ±</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Name -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Karakter ƒ∞smi *</label>
                        <input type="text" x-model="form.name" required class="input input-bordered w-full"
                            placeholder="√ñrn: Luna, Maya, Selin..." />
                        <p class="text-xs text-gray-400 mt-1">Bu isim profilinde ve kartlarƒ±nda g√∂r√ºnecek</p>
                    </div>

                    <!-- Style -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Karakter Stili *</label>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                            <template x-for="style in styleOptions" :key="style.id">
                                <label class="cursor-pointer">
                                    <input type="radio" name="style" :value="style.id" x-model="form.style"
                                        class="hidden peer" />
                                    <div
                                        class="border-2 border-gray-200 rounded-xl p-4 text-center transition-all peer-checked:border-primary peer-checked:bg-primary/5 hover:border-gray-300">
                                        <span class="text-2xl" x-text="style.icon">‚ú®</span>
                                        <p class="font-medium text-gray-900 mt-1" x-text="style.name">Stil</p>
                                        <p class="text-xs text-gray-500" x-text="style.desc">A√ßƒ±klama</p>
                                    </div>
                                </label>
                            </template>
                        </div>
                    </div>

                    <!-- Bio -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Karakter A√ßƒ±klamasƒ±</label>
                        <textarea x-model="form.bio" rows="3" class="textarea textarea-bordered w-full"
                            placeholder="Bu karakter hangi t√ºr markalar ve i√ßerikler i√ßin uygun?"></textarea>
                        <p class="text-xs text-gray-400 mt-1">Markalar bu a√ßƒ±klamayƒ± okuyarak sizi tercih edecek</p>
                    </div>

                    <!-- Active Platforms -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-3">Aktif Platformlar</label>
                        <p class="text-xs text-gray-500 mb-3">Bu karakter hangi platformlarda i√ßerik √ºretecek?</p>
                        <div class="space-y-3">
                            <label
                                class="flex items-center gap-4 p-4 border border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-colors"
                                :class="form.platforms.instagram && 'border-primary bg-primary/5'">
                                <input type="checkbox" x-model="form.platforms.instagram"
                                    class="checkbox checkbox-primary" />
                                <div
                                    class="w-10 h-10 bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 rounded-lg flex items-center justify-center text-white">
                                    üì∑
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900">Instagram</p>
                                    <p class="text-sm text-gray-500">Fotoƒüraf, Story, Reels</p>
                                </div>
                            </label>

                            <label
                                class="flex items-center gap-4 p-4 border border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-colors"
                                :class="form.platforms.tiktok && 'border-primary bg-primary/5'">
                                <input type="checkbox" x-model="form.platforms.tiktok"
                                    class="checkbox checkbox-primary" />
                                <div class="w-10 h-10 bg-black rounded-lg flex items-center justify-center text-white">
                                    üéµ
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900">TikTok</p>
                                    <p class="text-sm text-gray-500">Kƒ±sa videolar, Trendler</p>
                                </div>
                            </label>

                            <label
                                class="flex items-center gap-4 p-4 border border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-colors"
                                :class="form.platforms.twitter && 'border-primary bg-primary/5'">
                                <input type="checkbox" x-model="form.platforms.twitter"
                                    class="checkbox checkbox-primary" />
                                <div class="w-10 h-10 bg-black rounded-lg flex items-center justify-center text-white">
                                    ùïè
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900">Twitter / X</p>
                                    <p class="text-sm text-gray-500">Tweet, Thread, G√∂rsel</p>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Price Range -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ba≈ülangƒ±√ß Fiyatƒ±</label>
                        <div class="flex items-center gap-2">
                            <span class="text-gray-500">‚Ç∫</span>
                            <input type="number" x-model="form.basePrice" min="100" step="50"
                                class="input input-bordered w-40" placeholder="500" />
                            <span class="text-sm text-gray-500">ve √ºzeri</span>
                        </div>
                    </div>

                </div>

                <!-- Actions -->
                <div class="flex gap-4 mt-6">
                    <a href="/creator/characters" class="btn btn-ghost">‚Üê ƒ∞ptal</a>
                    <button type="submit" class="btn btn-primary flex-1" :disabled="!isFormValid">
                        Karakter Olu≈ütur
                    </button>
                </div>
            </form>

            <script>
                function newCharacterPage() {
                    return {
                        form: {
                            name: '',
                            style: '',
                            bio: '',
                            avatarPreview: null,
                            platforms: { instagram: false, tiktok: false, twitter: false },
                            basePrice: 500
                        },
                        styleOptions: [
                            { id: 'photorealistic', name: 'Photorealistic', icon: 'üì∏', desc: 'Ger√ßek√ßi, doƒüal' },
                            { id: 'luxury', name: 'Luxury', icon: 'üíé', desc: 'Premium, zarif' },
                            { id: 'casual', name: 'Casual', icon: 'üòä', desc: 'Samimi, g√ºnl√ºk' },
                            { id: 'minimal', name: 'Minimal', icon: '‚ú®', desc: 'Sade, ≈üƒ±k' },
                            { id: 'edgy', name: 'Edgy', icon: 'üî•', desc: 'Cesur, farklƒ±' },
                            { id: 'cute', name: 'Cute', icon: 'üå∏', desc: 'Tatlƒ±, sevimli' }
                        ],

                        get isFormValid() {
                            return this.form.name.length >= 2 &&
                                this.form.style &&
                                (this.form.platforms.instagram || this.form.platforms.tiktok || this.form.platforms.twitter);
                        },

                        handleAvatarUpload(e) {
                            const file = e.target.files[0];
                            if (file) {
                                this.form.avatarPreview = URL.createObjectURL(file);
                            }
                        },

                        submitForm() {
                            if (!this.isFormValid) return;

                            // In real app, this would POST to backend
                            Alpine.store('notify').success('Karakter olu≈üturuldu! Admin onayƒ± bekleniyor.');

                            // Redirect to characters list
                            setTimeout(() => {
                                window.location.href = '/creator/characters';
                            }, 1500);
                        }
                    }
                }
            </script>

        </div> <!-- End Container -->

    </div>
</body>

</html>